<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Skid Row Community Map</title>
<style>
/* Keep your previous sidebar, top-nav, and main content CSS */
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin:0; }
.page-container { display: flex; min-height: 100vh; }
.side-nav { width: 280px; background: #2c3e50; color: white; padding: 30px 20px; position: fixed; height: 100vh; overflow-y: auto; }
.side-nav-container ul { list-style: none; padding:0; }
.side-nav-container li { padding: 10px 15px; margin:5px 0; cursor:pointer; border-radius:4px; }
.side-nav-container li:hover { background:#34495e; }
.side-nav-active { background:#3498db; font-weight:bold; }
.main-content { margin-left: 280px; flex:1; padding:40px 60px; max-width:1000px; }
.top-nav { background:#ecf0f1; padding:15px 40px; border-bottom:2px solid #bdc3c7; display:flex; gap:30px; }
.top-nav-link { color:#2c3e50; text-decoration:none; font-weight:600; text-transform:uppercase; }
.top-nav-link:hover { color:#3498db; }
</style>
</head>
<body>

<div class="page-container">
  <nav class="side-nav">
    <a class="side-nav-title" href="index.html">
      <div style="text-align:center; padding:20px; background:white; border-radius:8px;">
        <h3 style="color:#2c3e50; margin:0;">A Skid Row Community Map</h3>
      </div>
    </a>
    <div class="side-nav-container">
      <ul>
        <li class="side-nav-active" data-md="introduction.md">Introduction</li>
        <li data-md="background.md">Background & History</li>
        <li data-md="arrestdata.md">LAPD Arrest Data</li>
        <li data-md="arrestvisualized.md">Arrests Visualized</li>
      </ul>
    </div>
  </nav>

  <main class="main-content">
    <section class="top-nav">
      <a class="top-nav-link" href="map.html">Interactive Map</a>
      <a class="top-nav-link" href="assets/report.pdf">PDF Report</a>
      <a class="top-nav-link" href="assets/summary.pdf">Summary</a>
    </section>

    <div id="md-content">
      <p>Loading content...</p>
    </div>
  </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
const mdContent = document.getElementById('md-content');
const navItems = document.querySelectorAll('.side-nav-container li');

function loadMD(file) {
  fetch('md/' + file)
    .then(res => res.text())
    .then(text => {
      mdContent.innerHTML = marked.parse(text);
    })
    .catch(err => {
      mdContent.innerHTML = '<p>Error loading content.</p>';
      console.error(err);
    });
}

// Initial load
loadMD('introduction.md');

// Navigation click
navItems.forEach(item => {
  item.addEventListener('click', () => {
    navItems.forEach(i => i.classList.remove('side-nav-active'));
    item.classList.add('side-nav-active');
    const mdFile = item.dataset.md;
    loadMD(mdFile);
  });
});
</script>
</body>
</html>
